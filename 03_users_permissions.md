
# Linux Users & Permissions

## 1. أنواع المستخدمين في لينكس
في نظام لينكس، يوجد 3 أنواع رئيسية من المستخدمين:

- **Root**: المستخدم الإداري الأعلى (المدير) ويملك جميع الصلاحيات. يمثل بحساب `root`.
- **Regular Users**: المستخدمون العاديون الذين يتم إنشاؤهم عند تثبيت النظام أو لاحقًا.
- **System Users**: حسابات خاصة بالنظام تُستخدم لتشغيل خدمات وبرمجيات النظام.

---

## 2. ملفات إدارة المستخدمين
لينكس يستخدم مجموعة من الملفات لتخزين معلومات المستخدمين:

- `/etc/passwd`: يحتوي على بيانات المستخدمين الأساسية.
- `/etc/shadow`: يحتوي على كلمات مرور المستخدمين بشكل مشفر.
- `/etc/group`: يحتوي على المجموعات (Groups) التي ينتمي إليها المستخدمون.

---

## 3. أوامر إدارة المستخدمين

| الأمر | الوصف |
|-------|--------|
| `adduser username` | إنشاء مستخدم جديد. |
| `userdel username` | حذف مستخدم. |
| `usermod -aG group username` | إضافة مستخدم لمجموعة. |
| `passwd username` | تغيير كلمة المرور. |

---

## 4. صلاحيات الملفات (Permissions)
كل ملف أو مجلد في لينكس له 3 أنواع من الصلاحيات:

- **r** (read): قراءة الملف أو محتويات المجلد.
- **w** (write): تعديل الملف أو محتويات المجلد.
- **x** (execute): تنفيذ الملف (إن كان سكربت أو برنامج).

وهذه الصلاحيات تُطبق على:

- **المالك (User)**.
- **المجموعة (Group)**.
- **الآخرين (Others)**.

مثال على صلاحيات ملف:
```
-rwxr-xr-- 1 zeyad developers 2345 Jul 13 test.sh
```

---

## 5. إدارة الصلاحيات

| الأمر | الوظيفة |
|-------|---------|
| `chmod` | لتغيير الصلاحيات. |
| `chown` | لتغيير المالك والمجموعة. |
| `chgrp` | لتغيير المجموعة فقط. |

مثال:
```bash
chmod u+x file.sh     # إضافة صلاحية التنفيذ للمالك
chown zeyad file.txt  # تغيير مالك الملف إلى zeyad
```

---

## 6. `su` vs `sudo`

- **`su`**: يبدل المستخدم الحالي إلى مستخدم آخر (عادةً root) ويطلب كلمة سر المستخدم الجديد.
- **`sudo`**: ينفذ أمر واحد بصلاحيات المستخدم الآخر (عادةً root) باستخدام كلمة سر المستخدم الحالي.

يفضل استخدام `sudo` لأسباب أمنية.

---

## 7. معرفات المستخدم والمجموعة (UID / GID)

- **UID**: رقم تعريف المستخدم.
- **GID**: رقم تعريف المجموعة.

المستخدم root دائمًا له UID = 0.

---

## 8. أوامر مساعدة

| الأمر | الوظيفة |
|-------|---------|
| `id` | عرض UID و GID للمستخدم الحالي. |
| `whoami` | عرض اسم المستخدم الحالي. |
| `groups` | عرض المجموعات التي ينتمي لها المستخدم. |

---

## خلاصة سريعة

- لينكس نظام قوي في التحكم بالمستخدمين والصلاحيات.
- لا تستخدم `root` مباشرة إلا عند الضرورة.
- استخدم `sudo` مع أوامر المسؤولية.
- تأكد من إعطاء الصلاحيات المناسبة للملفات لتجنب مشاكل الأمان.

