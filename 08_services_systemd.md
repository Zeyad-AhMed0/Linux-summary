# 09_services_systemd.md โ ุงูุชุญูู ูู ุงูุฎุฏูุงุช ุจุงุณุชุฎุฏุงู systemd

## ๐ง ููุฏูุฉ
`systemd` ูู ูุธุงู ุฅุฏุงุฑุฉ ุงูุฎุฏูุงุช ูู ูุนุธู ุชูุฒูุนุงุช Linux ุงูุญุฏูุซุฉ.  
ุจูุชุญูู ูู ุชุดุบูู ูุฅููุงู ุงูุฎุฏูุงุช (services) ูุฅุฏุงุฑุชูุง ุชููุงุฆููุง ุฃุซูุงุก ุงูุฅููุงุน.

---

## โ๏ธ ููุงููู ุฃุณุงุณูุฉ

| ุงููุตุทูุญ       | ุงููุตู                                                         |
|---------------|---------------------------------------------------------------|
| service       | ุนูููุฉ ุจุชุดุชุบู ูู ุงูุฎูููุฉ (background) ูุซู ssh, nginx, cron     |
| unit          | ููู ุชุนุฑูู ุงูุฎุฏูุฉ ุฏุงุฎู systemd (ุบุงูุจูุง ุจุงูุชุฏุงุฏ `.service`)     |
| target        | ูุฌููุนุฉ ูู ุงููุญุฏุงุช (ูุซู runlevels ูู ุงูุฃูุธูุฉ ุงููุฏููุฉ)         |

---

## ๐ง ุฃูุงูุฑ ุฅุฏุงุฑุฉ ุงูุฎุฏูุงุช

| ุงูุฃูุฑ                               | ุงููุธููุฉ                                       |
|------------------------------------|-----------------------------------------------|
| `systemctl start service`          | ุจุฏุก ุฎุฏูุฉ                                       |
| `systemctl stop service`           | ุฅููุงู ุฎุฏูุฉ                                     |
| `systemctl restart service`        | ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุฏูุฉ                            |
| `systemctl reload service`         | ุฅุนุงุฏุฉ ุชุญููู ุงูุฅุนุฏุงุฏุงุช ุจุฏูู ุฅุนุงุฏุฉ ุชุดุบูู        |
| `systemctl status service`         | ุนุฑุถ ุญุงูุฉ ุงูุฎุฏูุฉ                               |
| `systemctl is-active service`      | ุงูุชุญูู ุฅุฐุง ูุงูุช ุงูุฎุฏูุฉ ูุดุทุฉ                   |

**ูุซุงู:**
```bash
sudo systemctl restart ssh
```
---

๐ ุงูุชุญูู ูู ุงูุชุดุบูู ุงูุชููุงุฆู

                             	
systemctl enable service	ุชูุนูู ุงูุฎุฏูุฉ ูุชุนูู ุชููุงุฆููุง ุนูุฏ ุงูุฅููุงุน

systemctl disable service	ุชุนุทูู ุงูุชุดุบูู ุงูุชููุงุฆู

systemctl is-enabled service	ุงูุชุญูู ุฅุฐุง ูุงูุช ุงูุฎุฏูุฉ ููุนูุฉ ุชููุงุฆููุง

---

๐ ุฃูุงูู ูููุงุช ุงูู Unit
                          	
/etc/systemd/system/	ูููุงุช ุงูุฎุฏูุงุช ุงูููุฎุตุตุฉ (custom services)

/lib/systemd/system/	ูููุงุช ุงูุฎุฏูุงุช ุงูุงูุชุฑุงุถูุฉ ูู ุงููุธุงู

/etc/systemd/system/*.wants	ุฑูุงุจุท ููุฎุฏูุงุช ุงูููุนููุฉ ุนูุฏ ุงูุฅููุงุน


---

๐ ุฃูุงูุฑ ุฅุถุงููุฉ ูููุฉ

                        	
systemctl list-units --type=service	 ุนุฑุถ ูู ุงูุฎุฏูุงุช ุงููุดุทุฉ

journalctl -u service 	ุนุฑุถ ููุฌุงุช ุฎุฏูุฉ ูุนููุฉ

systemctl daemon-reexec 	ุฅุนุงุฏุฉ ุชุดุบูู systemd ููุณู

systemctl daemon-reload	 ุฅุนุงุฏุฉ ุชุญููู ูููุงุช ุงูู unit ุจุนุฏ ุชุนุฏูููุง

---

๐งช ุฅูุดุงุก ุฎุฏูุฉ ูุฎุตุตุฉ (Custom Service)

ุฃูุดุฆ ุณูุฑูุจุช ูุซู:

```bash

sudo nano /usr/local/bin/myscript.sh
```
ุงุฌุนู ุงูุณูุฑูุจุช ูุงุจู ููุชูููุฐ:

```bash

sudo chmod +x /usr/local/bin/myscript.sh
```
ุฃูุดุฆ ููู ุฎุฏูุฉ:

```bash

sudo nano /etc/systemd/system/myscript.service
```

ุงููุญุชูู:
```bash

[Unit]
Description=My Custom Script

[Service]
ExecStart=/usr/local/bin/myscript.sh
Restart=always

[Install]
WantedBy=multi-user.target
```


ูุนูู ูุดุบูู ุงูุฎุฏูุฉ:

```bash

sudo systemctl daemon-reload
sudo systemctl enable myscript
sudo systemctl start myscript
```
---

โ๏ธ ูุตุงุฆุญ ูููุญุชุฑููู

ูุง ุชุนุฏูู ูุจุงุดุฑุฉ ุนูู ูููุงุช /lib/systemd/... โ ุงูุณุฎูุง ุฅูู /etc/systemd/... ูุจู ุงูุชุนุฏูู.

ุงุณุชุฎุฏู journalctl -xe ูุชุชุจุน ุงูุฃุฎุทุงุก ุนูุฏ ูุดู ุชุดุบูู ุฎุฏูุฉ.

ุฃุถู Restart=on-failure ูู ุงููุญุฏุฉ ูุฌุนู ุงูุฎุฏูุฉ ุชูุนุงุฏ ุชููุงุฆููุง ุนูุฏ ุงููุดู.
